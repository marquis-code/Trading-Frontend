(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{562:function(t,e,n){var content=n(637);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(66).default)("d7fc383c",content,!0,{sourceMap:!1})},636:function(t,e,n){"use strict";n(562)},637:function(t,e,n){var r=n(65)((function(i){return i[1]}));r.push([t.i,".fade-enter-active[data-v-36a821c9]{transition:all .3s cubic-bezier(.52,.02,.19,1.02) .15s}.fade-leave-active[data-v-36a821c9]{transition:all .3s cubic-bezier(.52,.02,.19,1.02)}.fade-enter-from[data-v-36a821c9]{opacity:0}.fade-enter-from[data-v-36a821c9],.fade-leave-to[data-v-36a821c9]{transform:scale(.8)}",""]),r.locals={},t.exports=r},697:function(t,e,n){"use strict";n.r(e);n(25),n(179);var r=n(49),o=(n(93),n(14),n(77),n(10),n(8),n(94),n(147),n(13),n(27),{name:"UsersList",layout:"dashboards",scrollToTop:!0,data:function(){return{selectedUser:{},usersList:[],processing:!1,fields:[{key:"sn",label:"S/N",class:"font-medium text-gray-400 text-sm"},{key:"user",label:"User",class:"font-medium text-gray-400 text-sm"},{key:"planType",label:"Plan Type",class:"font-medium text-gray-400 text-sm"},{key:"accountBalance",label:"Account Balance",class:"font-medium text-gray-400 text-sm"},{key:"tradingBalance",label:"Trading Balance",class:"font-medium text-gray-400 text-sm"},{key:"profit",label:"Profit",class:"font-medium text-gray-400 text-sm"},{key:"eth",label:"Etherium",class:"font-medium text-gray-400 text-sm"},{key:"btc",label:"Bitcoin",class:"font-medium text-end text-gray-400"},{key:"status",label:"Status",class:"font-medium text-gray-400 text-sm"},{key:"action",label:"Action",class:""}],currentPage:1,perPage:6,search:"",showModal:!1,totalRows:1,loading:!1}},head:function(){return{meta:[{hid:"twitter:title",name:"twitter:title",content:this.title},{hid:"twitter:description",name:"twitter:description",content:this.description},{hid:"twitter:image",name:"twitter:image",content:this.image},{hid:"twitter:image:alt",name:"twitter:image:alt",content:this.title},{hid:"og:title",property:"og:title",content:this.title},{hid:"og:description",property:"og:description",content:this.description},{hid:"og:image",property:"og:image",content:this.image},{hid:"og:image:secure_url",property:"og:image:secure_url",content:this.image},{hid:"og:image:alt",property:"og:image:alt",content:this.title}]}},computed:{filteredUsers:function(){var t=this.search.toLowerCase();return this.usersList.filter((function(e){var n,r,o,l,c,d,m,f;return(null==e||null===(n=(r=e.firstName).toLowerCase)||void 0===n?void 0:n.call(r).includes(t))||(null==e||null===(o=(l=e.lastName).toLowerCase)||void 0===o?void 0:o.call(l).includes(t))||(null==e||null===(c=(d=e.email).toLowerCase)||void 0===c?void 0:c.call(d).includes(t))||(null==e||null===(m=(f=e.Status).toLowerCase)||void 0===m?void 0:m.call(f).includes(t))}))}},created:function(){this.fetchUsers()},mounted:function(){this.totalRows=this.usersList.length},methods:{goBack:function(){this.$router.go(-1)},fetchUsers:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,n=JSON.parse(window.localStorage.getItem("auth")),t.loading=!0,"\n        query {\n          getUsers {\n            id\n            firstName\n            lastName\n            email\n            Status\n            PlanType\n            accountBalance\n            tradingBalance\n            profit\n            eth\n            btc\n            timeAdded\n          }\n        }\n      ",e.prev=4,e.next=7,fetch("https://fidelityvalues.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer "+n},body:JSON.stringify({query:"\n        query {\n          getUsers {\n            id\n            firstName\n            lastName\n            email\n            Status\n            PlanType\n            accountBalance\n            tradingBalance\n            profit\n            eth\n            btc\n            timeAdded\n          }\n        }\n      "})});case 7:return r=e.sent,e.next=10,r.json();case 10:null!=(data=e.sent)&&data.errors?t.$toastr.e(data.errors[0].message):(t.usersList=data.data.getUsers,t.totalRows=data.data.getUsers.length);case 12:return e.prev=12,t.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[4,,12,15]])})))()},getInitials:function(t,e){var n=t?t.charAt(0):"",r=e?e.charAt(0):"";return"".concat(n).concat(r)},handleClick:function(data){this.selectedUser=data,this.$bvModal.show("updateUserInfo")},updateUserInfo:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,l,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.processing=!0,n=JSON.parse(window.localStorage.getItem("auth")),r=JSON.parse(window.localStorage.getItem("user")),e.prev=3,"\n          mutation updateUser($userId: String!, $input: UpdateUser!) {\n            updateUser(userId: $userId, input: $input) {\n              accountBalance\n              tradingBalance\n              profit\n            }\n          }\n        ",e.next=7,fetch("https://fidelityvalues.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer "+n},body:JSON.stringify({query:"\n          mutation updateUser($userId: String!, $input: UpdateUser!) {\n            updateUser(userId: $userId, input: $input) {\n              accountBalance\n              tradingBalance\n              profit\n            }\n          }\n        ",variables:{userId:null!==(o=null==r?void 0:r.id)&&void 0!==o?o:"",input:{profit:t.selectedUser.profit,tradingBalance:t.selectedUser.tradingBalance,accountBalance:t.selectedUser.accountBalance}}})});case 7:return l=e.sent,e.next=10,l.json();case 10:null!=(data=e.sent)&&data.errors?t.$toastr.e(data.errors[0].message):(t.$toastr.s("User Information was updated successfully"),t.$bvModal.hide("updateUserInfo"));case 12:return e.prev=12,t.processing=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,,12,15]])})))()},formatNumberAsDollar:function(t){return null==t?void 0:t.toLocaleString("en-US",{style:"currency",currency:"USD"})}}}),l=(n(636),n(46)),component=Object(l.a)(o,(function(){var t=this,e=t._self._c;return e("main",[e("Transition",{attrs:{name:"fade"}},[e("section",{staticClass:"text-white"},[e("div",{staticClass:"flex items-center justify-between my-3"},[e("button",{staticClass:"outline-none border bg-gray-200 text-black px-3 py-1 rounded-md text-sm",on:{click:function(e){return t.goBack()}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 24 24",fill:"none",stroke:"#747070","stroke-width":"2","stroke-linecap":"square","stroke-linejoin":"bevel"}},[e("path",{attrs:{d:"M19 12H6M12 5l-7 7 7 7"}})])])]),t._v(" "),e("div",{staticClass:"sm:flex-1 pb-0 mt-3"},[e("label",{staticClass:"sr-only",attrs:{for:"search"}},[t._v("Search")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"w-full rounded-tr-md rounded-tl-md outline-none bg-white p-3 text-gray-700 transition border focus:border-white focus:outline-none focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-transparent",attrs:{type:"text",placeholder:"Search.."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),t._v(" "),e("b-card",{staticClass:"mt-3"},[e("b-table",{attrs:{striped:"","show-empty":"",responsive:"",items:t.filteredUsers,fields:t.fields,busy:t.loading,"current-page":t.currentPage,"per-page":t.perPage},scopedSlots:t._u([{key:"table-busy",fn:function(){return[e("div",{staticClass:"text-center my-2 cursor-pointer"},[e("b-spinner",{staticClass:"align-middle"}),t._v(" "),e("small",[t._v("Loading...")])],1)]},proxy:!0},{key:"empty",fn:function(){return[e("p",{staticClass:"text-center text-sm text-secondary py-4 cursor-pointer"},[t._v("\n              "+t._s(t.search?'No User found for search value: "'.concat(t.search,'"'):"No Users available")+"\n            ")])]},proxy:!0},{key:"cell(sn)",fn:function(data){return[e("div",{staticClass:"font-medium py-4 text-sm cursor-pointer"},[t._v("\n              "+t._s(data.index+1)+"\n            ")])]}},{key:"cell(user)",fn:function(data){var n,r,o,l,c;return[e("div",{staticClass:"font-medium text-sm cursor-pointer flex items-center gap-x-2 py-4"},[e("div",{staticClass:"bg-gray-500 text-white rounded-full h-10 w-10 flex text-center justify-center items-center"},[t._v("\n                "+t._s(t.getInitials(null==data||null===(n=data.item)||void 0===n?void 0:n.firstName,null==data||null===(r=data.item)||void 0===r?void 0:r.lastName))+"\n              ")]),t._v(" "),e("div",[e("span",[t._v("\n                  "+t._s(null==data||null===(o=data.item)||void 0===o?void 0:o.firstName)+"\n                ")]),t._v(" "),e("span",[t._v("\n                  "+t._s(null==data||null===(l=data.item)||void 0===l?void 0:l.lastName)+"\n                ")]),e("br"),t._v(" "),e("span",[t._v("\n                  "+t._s(null==data||null===(c=data.item)||void 0===c?void 0:c.email)+"\n                ")])])])]}},{key:"cell(planType)",fn:function(data){var n,r;return[e("div",{staticClass:"font-medium py-4 text-sm"},[t._v("\n              "+t._s(null!==(n=null==data||null===(r=data.item)||void 0===r?void 0:r.planType)&&void 0!==n?n:"N/A")+"\n            ")])]}},{key:"cell(accountBalance)",fn:function(data){var n,r;return[e("div",{staticClass:"font-medium py-4 text-sm cursor-pointer"},[t._v("\n              "+t._s(null!==(n=t.formatNumberAsDollar(null==data||null===(r=data.item)||void 0===r?void 0:r.accountBalance))&&void 0!==n?n:"N/A")+"\n            ")])]}},{key:"cell(tradingBalance)",fn:function(data){var n,r;return[e("div",{staticClass:"font-medium py-4 text-sm"},[t._v("\n              "+t._s(null!==(n=t.formatNumberAsDollar(null==data||null===(r=data.item)||void 0===r?void 0:r.tradingBalance))&&void 0!==n?n:"N/A")+"\n            ")])]}},{key:"cell(profit)",fn:function(data){var n,r;return[e("div",{staticClass:"font-medium py-4 text-sm"},[t._v("\n              "+t._s(null!==(n=t.formatNumberAsDollar(null==data||null===(r=data.item)||void 0===r?void 0:r.profit))&&void 0!==n?n:"N/A")+"\n            ")])]}},{key:"cell(eth)",fn:function(data){return[e("div",{staticClass:"font-medium py-4 text-sm"},[data.item.eth?e("span",{staticClass:"font-medium py-4 text-sm"},[t._v("\n                "+t._s(data.item.eth)+"\n              ")]):e("span",[t._v("N/A")])])]}},{key:"cell(btc)",fn:function(data){return[e("div",{staticClass:"font-medium py-4 text-sm"},[data.item.btc?e("span",{staticClass:"font-medium py-4 text-sm"},[t._v("\n                "+t._s(data.item.btc)+"\n              ")]):e("span",[t._v("N/A")])])]}},{key:"cell(status)",fn:function(data){var n,r;return[e("div",{staticClass:"font-medium text-sm cursor-pointer px-3 py-4"},[e("span",{staticClass:"px-3 py-2",class:["Active"===(null==data||null===(n=data.item)||void 0===n?void 0:n.Status)?"bg-green-500 text-white rounded-md text-sm":"bg-red-500 text-white rounded-md text-sm"]},[t._v("\n                "+t._s(null==data||null===(r=data.item)||void 0===r?void 0:r.Status)+"\n              ")])])]}},{key:"cell(action)",fn:function(data){return[e("div",{staticClass:"font-medium text-sm cursor-pointer px-3 py-4"},[e("img",{staticClass:"cursor-pointer h-10 w-10",attrs:{src:n(335),alt:"more"},on:{click:function(e){return t.handleClick(data.item)}}})])]}}])}),t._v(" "),e("div",{staticClass:"flex justify-end items-end"},[e("b-pagination",{staticClass:"my-3",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,size:"md"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)]),t._v(" "),e("b-modal",{attrs:{id:"updateUserInfo","hide-footer":"",centered:"","hide-header":""}},[e("div",{staticClass:"flex justify-center items-center"},[e("h1",{staticClass:"text-lg font-semibold text-black"},[t._v("\n        Update Information\n      ")])]),t._v(" "),e("form",{staticClass:"mt-8 gap-6 w-full space-y-6 px-6 pb-6",on:{submit:function(e){return e.preventDefault(),t.updateUserInfo.apply(null,arguments)}}},[e("div",{staticClass:"col-span-6 sm:col-span-6"},[e("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"profit"}},[t._v("\n          Profit\n        ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedUser.profit,expression:"selectedUser.profit"}],staticClass:"mt-1 w-full px-3 py-3 border outline-none rounded-md border-gray-200 bg-white text-sm text-gray-700 shadow-sm",attrs:{id:"profit",type:"number",step:"0.01",min:"0",name:"profit"},domProps:{value:t.selectedUser.profit},on:{input:function(e){e.target.composing||t.$set(t.selectedUser,"profit",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-span-6 sm:col-span-6"},[e("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"tradingBalance",step:"0.01",min:"0"}},[t._v("\n          Trading Balance\n        ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedUser.tradingBalance,expression:"selectedUser.tradingBalance"}],staticClass:"mt-1 w-full px-3 py-3 border outline-none rounded-md border-gray-200 bg-white text-sm text-gray-700 shadow-sm",attrs:{id:"tradingBalance",type:"number",name:"tradingBalance"},domProps:{value:t.selectedUser.tradingBalance},on:{input:function(e){e.target.composing||t.$set(t.selectedUser,"tradingBalance",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-span-6 sm:col-span-6"},[e("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"accountBalance"}},[t._v("\n          Account Balance\n        ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedUser.accountBalance,expression:"selectedUser.accountBalance"}],staticClass:"mt-1 w-full px-3 py-3 border outline-none rounded-md border-gray-200 bg-white text-sm text-gray-700 shadow-sm",attrs:{id:"accountBalance",type:"number",step:"0.01",min:"0",name:"accountBalance"},domProps:{value:t.selectedUser.accountBalance},on:{input:function(e){e.target.composing||t.$set(t.selectedUser,"accountBalance",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"w-full flex justify-between items-center gap-x-4"},[e("button",{staticClass:"w-full rounded-md border disabled:cursor-not-allowed disabled:opacity-25 bg-gray-500 px-12 py-3 text-xs font-medium text-white transition focus:outline-none focus:ring",attrs:{type:"button"},on:{click:function(e){return t.$bvModal.hide("updateUserInfo")}}},[t._v("\n          Cancel\n        ")]),t._v(" "),e("button",{staticClass:"w-full rounded-md border text-xs disabled:cursor-not-allowed disabled:opacity-25 border-black bg-black px-12 py-3 font-medium text-white transition hover:bg-transparent focus:outline-none focus:ring",attrs:{type:"submit",disabled:t.processing}},[t._v("\n          Continue\n        ")])])])])],1)}),[],!1,null,"36a821c9",null);e.default=component.exports}}]);